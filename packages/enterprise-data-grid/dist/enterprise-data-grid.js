!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.SiticGridEnterpriseDataGrid=t(require("react")):e.SiticGridEnterpriseDataGrid=t(e.React)}(this,e=>(()=>{"use strict";let t,r,a,l,n,o,s,c;var i,d,m={6:function(t){t.exports=e}},u={};function p(e){var t=u[e];if(void 0!==t)return t.exports;var r=u[e]={exports:{}};return m[e](r,r.exports,p),r.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var r in t)p.o(t,r)&&!p.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var g={};return p.d(g,{default:()=>c}),i=p(6),d=p.n(i),t=()=>d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d().createElement("polyline",{points:"6,9 12,15 18,9"})),r=()=>d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d().createElement("polyline",{points:"18,15 12,9 6,15"})),a=()=>d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d().createElement("circle",{cx:"11",cy:"11",r:"8"}),d().createElement("path",{d:"m21 21-4.35-4.35"})),l=()=>d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d().createElement("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})),n=()=>d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d().createElement("circle",{cx:"12",cy:"12",r:"3"}),d().createElement("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1"})),o=()=>d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d().createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d().createElement("polyline",{points:"7,10 12,15 17,10"}),d().createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),(s=(0,i.forwardRef)(({data:e=[],columns:s=[],loading:c=!1,error:m=null,pagination:u,searchable:p=!0,filterable:g=!0,exportable:b=!0,selectable:y=!1,className:f="",onSort:E,onFilter:x,onPageChange:h,onPageSizeChange:v,onRowSelect:k,onExport:N,...w},C)=>{let[S,L]=(0,i.useState)(""),[j,M]=(0,i.useState)(null),[z,$]=(0,i.useState)({}),[B,O]=(0,i.useState)(new Set),[W,D]=(0,i.useState)(!1),[G,A]=(0,i.useState)(()=>{let e={};return s.forEach(t=>{e[t.key]=!0}),e}),q=(0,i.useMemo)(()=>{let t=[...e];return S&&p&&(t=t.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(S.toLowerCase())))),g&&Object.entries(z).forEach(([e,r])=>{r&&(t=t.filter(t=>String(t[e]).toLowerCase().includes(r.toLowerCase())))}),j&&t.sort((e,t)=>{let r=e[j.key],a=t[j.key];return r<a?"asc"===j.direction?-1:1:r>a?"asc"===j.direction?1:-1:0}),t},[e,S,z,j,p,g]),F=(0,i.useMemo)(()=>{if(!u)return q;let e=(u.page-1)*u.pageSize,t=e+u.pageSize;return q.slice(e,t)},[q,u]),H=(0,i.useCallback)(e=>{let t=s.find(t=>t.key===e);if(!t?.sortable)return;let r={key:e,direction:j?.key===e&&"asc"===j.direction?"desc":"asc"};M(r),E?.(r)},[s,j,E]),P=(0,i.useCallback)((e,t)=>{let r={...z,[e]:t};$(r),x?.(r)},[z,x]),R=(0,i.useCallback)(e=>{if(!y)return;let t=new Set(B);t.has(e)?t.delete(e):t.add(e),O(t);let r=Array.from(t).map(e=>F[e]);k?.(r)},[y,B,F,k]),_=(0,i.useCallback)(()=>{if(!y)return;let e=B.size===F.length?new Set:new Set(F.map((e,t)=>t));O(e);let t=Array.from(e).map(e=>F[e]);k?.(t)},[y,B,F,k]),I=(0,i.useMemo)(()=>s.filter(e=>G[e.key]),[s,G]),J=(0,i.useCallback)((e,t,r)=>{if(e.render)return e.render(t,r);switch(e.type){case"date":return t?("string"==typeof t?new Date(t):t).toLocaleDateString("es-ES"):"";case"number":return"number"!=typeof t?t:t.toLocaleString("es-ES");case"boolean":return t?"S\xed":"No";default:return String(t||"")}},[]);return m?d().createElement("div",{ref:C,className:`p-4 border border-red-300 rounded-lg bg-red-50 ${f}`,...w},d().createElement("div",{className:"text-red-800"},d().createElement("h3",{className:"font-medium"},"Error al cargar los datos"),d().createElement("p",{className:"text-sm mt-1"},m))):d().createElement("div",{ref:C,className:`bg-white rounded-lg shadow-sm border border-gray-200 ${f}`,...w},d().createElement("div",{className:"p-4 border-b border-gray-200"},d().createElement("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center"},d().createElement("div",{className:"flex flex-col sm:flex-row gap-2 flex-1"},p&&d().createElement("div",{className:"relative"},d().createElement(a,null),d().createElement("input",{type:"text",placeholder:"Buscar...",value:S,onChange:e=>L(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),d().createElement("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},d().createElement(a,null))),g&&d().createElement("button",{onClick:()=>D(!W),className:`flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors ${W?"bg-blue-50 border-blue-300 text-blue-700":""}`},d().createElement(l,null),"Filtros")),d().createElement("div",{className:"flex gap-2"},d().createElement("button",{onClick:()=>A(e=>{let t={...e},r=Object.values(t).every(e=>e);return s.forEach(e=>{t[e.key]=!r}),t}),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},d().createElement(n,null),"Columnas"),b&&d().createElement("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},d().createElement(o,null),"Exportar"))),W&&g&&d().createElement("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg"},s.filter(e=>e.filterable).map(e=>d().createElement("div",{key:e.key},d().createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e.header),d().createElement("input",{type:"text",placeholder:`Filtrar ${e.header.toLowerCase()}...`,value:z[e.key]||"",onChange:t=>P(e.key,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}))))),d().createElement("div",{className:"overflow-x-auto"},d().createElement("table",{className:"w-full"},d().createElement("thead",{className:"bg-gray-50"},d().createElement("tr",null,y&&d().createElement("th",{className:"px-4 py-3 text-left"},d().createElement("input",{type:"checkbox",checked:B.size===F.length&&F.length>0,onChange:_,className:"rounded border-gray-300 focus:ring-2 focus:ring-blue-500"})),I.map(e=>d().createElement("th",{key:e.key,className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${e.sortable?"cursor-pointer hover:bg-gray-100":""}`,style:{width:e.width?`${e.width}px`:"auto"},onClick:()=>e.sortable&&H(e.key)},d().createElement("div",{className:"flex items-center gap-2"},e.header,e.sortable&&d().createElement("div",{className:"flex flex-col"},j?.key===e.key?"asc"===j.direction?d().createElement(r,null):d().createElement(t,null):d().createElement("div",{className:"w-4 h-4 opacity-30"},d().createElement(r,null)))))))),d().createElement("tbody",{className:"bg-white divide-y divide-gray-200"},c?d().createElement("tr",null,d().createElement("td",{colSpan:I.length+ +!!y,className:"px-4 py-8 text-center"},d().createElement("div",{className:"flex items-center justify-center"},d().createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d().createElement("span",{className:"ml-2 text-gray-600"},"Cargando...")))):0===F.length?d().createElement("tr",null,d().createElement("td",{colSpan:I.length+ +!!y,className:"px-4 py-8 text-center text-gray-500"},"No se encontraron datos")):F.map((e,t)=>d().createElement("tr",{key:t,className:`hover:bg-gray-50 ${B.has(t)?"bg-blue-50":""}`},y&&d().createElement("td",{className:"px-4 py-3"},d().createElement("input",{type:"checkbox",checked:B.has(t),onChange:()=>R(t),className:"rounded border-gray-300 focus:ring-2 focus:ring-blue-500"})),I.map(t=>d().createElement("td",{key:t.key,className:"px-4 py-3 text-sm text-gray-900"},J(t,e[t.key],e)))))))),u&&d().createElement("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50"},d().createElement("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4"},d().createElement("div",{className:"flex items-center gap-2 text-sm text-gray-700"},d().createElement("span",null,"Mostrar"),d().createElement("select",{value:u.pageSize,onChange:e=>v?.(Number(e.target.value)),className:"border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"},d().createElement("option",{value:10},"10"),d().createElement("option",{value:25},"25"),d().createElement("option",{value:50},"50"),d().createElement("option",{value:100},"100")),d().createElement("span",null,"de ",u.total," registros")),d().createElement("div",{className:"flex items-center gap-2"},d().createElement("button",{onClick:()=>h?.(u.page-1),disabled:u.page<=1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm"},"Anterior"),d().createElement("div",{className:"flex gap-1"},Array.from({length:Math.min(5,Math.ceil(u.total/u.pageSize))},(e,t)=>{let r=u.page-2+t;return r<1||r>Math.ceil(u.total/u.pageSize)?null:d().createElement("button",{key:r,onClick:()=>h?.(r),className:`px-3 py-1 text-sm border rounded ${r===u.page?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-100"}`},r)})),d().createElement("button",{onClick:()=>h?.(u.page+1),disabled:u.page>=Math.ceil(u.total/u.pageSize),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm"},"Siguiente")))))})).displayName="EnterpriseDataGrid",c=s,g=g.default})());
//# sourceMappingURL=enterprise-data-grid.js.map