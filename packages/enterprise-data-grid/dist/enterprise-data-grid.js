!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.SiticGridEnterpriseDataGrid=t(require("react")):e.SiticGridEnterpriseDataGrid=t(e.React)}(this,e=>(()=>{"use strict";var t={6:function(t){t.exports=e}},r={};function n(e){var l=r[e];if(void 0!==l)return l.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var l={};return(()=>{n.d(l,{default:()=>A});var e=n(6),t=n.n(e);function r(...e){return e.filter(Boolean).join(" ")}function a(e,t){return e.getTime()<t.getTime()}let o=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polyline",{points:"18 15 12 9 6 15"})),c=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polyline",{points:"6 9 12 15 18 9"})),i=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})),s=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("circle",{cx:"12",cy:"12",r:"1"}),t().createElement("circle",{cx:"12",cy:"5",r:"1"}),t().createElement("circle",{cx:"12",cy:"19",r:"1"})),m=()=>t().createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})),d=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polyline",{points:"23 4 23 10 17 10"}),t().createElement("polyline",{points:"1 20 1 14 7 14"}),t().createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})),u=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t().createElement("polyline",{points:"7 10 12 15 17 10"}),t().createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),f=()=>t().createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("circle",{cx:"12",cy:"12",r:"10"}),t().createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t().createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})),g=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t().createElement("line",{x1:"12",y1:"3",x2:"12",y2:"21"})),p=()=>t().createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t().createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"})),y=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polyline",{points:"15 18 9 12 15 6"})),E=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polyline",{points:"9 18 15 12 9 6"})),b=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polyline",{points:"11 17 6 12 11 7"}),t().createElement("polyline",{points:"18 17 13 12 18 7"})),x=()=>t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("polyline",{points:"13 17 18 12 13 7"}),t().createElement("polyline",{points:"6 17 11 12 6 7"})),v=t().forwardRef(({className:e,variant:n,size:l,...a},o)=>t().createElement("button",{className:r("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","ghost"===n&&"hover:bg-accent hover:text-accent-foreground","outline"===n&&"border border-input bg-background hover:bg-accent hover:text-accent-foreground","sm"===l&&"h-8 px-3 text-xs","icon"===l&&"h-8 w-8",e),ref:o,...a}));v.displayName="Button";let h=({className:e,variant:n,...l})=>t().createElement("div",{className:r("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","secondary"===n&&"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80","outline"===n&&"text-foreground",e),...l}),k=({children:r})=>{let[n,l]=(0,e.useState)(!1);return t().createElement("div",{className:"relative inline-block"},t().Children.map(r,e=>t().isValidElement(e)?t().cloneElement(e,{open:n,setOpen:l}):e))},w=({children:e,open:r,setOpen:n})=>t().createElement("div",{onClick:()=>n?.(!r),className:"cursor-pointer"},e),N=({children:n,open:l,setOpen:a,align:o="end"})=>{let c=(0,e.useRef)(null);return((0,e.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&a?.(!1)};return l&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l,a]),l)?t().createElement("div",{ref:c,className:r("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","end"===o&&"right-0","start"===o&&"left-0")},n):null},C=({children:e,onClick:n,className:l})=>t().createElement("div",{className:r("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground",l),onClick:n},e),S=({children:e,checked:r,onCheckedChange:n})=>t().createElement("div",{className:"relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>n?.(!r)},t().createElement("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},r&&t().createElement("span",{className:"h-2 w-2 rounded-sm bg-current"})),e),z=()=>t().createElement("div",{className:"-mx-1 my-1 h-px bg-muted"}),D=({children:e})=>t().createElement("div",{className:"px-2 py-1.5 text-sm font-semibold"},e),B=({children:e})=>t().createElement("div",{className:"relative inline-block"},e),W=({children:e})=>t().createElement("div",{className:"inline-block"},e),L=({children:e})=>t().createElement("div",{className:"absolute bottom-full left-1/2 z-50 mb-2 -translate-x-1/2 rounded-md bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md"},e),M=t().forwardRef(({className:e,...n},l)=>t().createElement("input",{className:r("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...n}));M.displayName="Input";let j=({value:r,onValueChange:n,children:l})=>{let[a,o]=(0,e.useState)(!1);return t().createElement("div",{className:"relative inline-block"},t().Children.map(l,e=>t().isValidElement(e)?t().cloneElement(e,{value:r,onValueChange:n,open:a,setOpen:o}):e))},_=({children:e,open:n,setOpen:l,className:a})=>t().createElement("button",{onClick:()=>l?.(!n),className:r("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a)},e,t().createElement(c,null)),T=({placeholder:e,value:r})=>t().createElement("span",null,r||e),$=({children:r,open:n,setOpen:l,onValueChange:a})=>{let o=(0,e.useRef)(null);return((0,e.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&l?.(!1)};return n&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[n,l]),n)?t().createElement("div",{ref:o,className:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md border bg-popover text-popover-foreground shadow-md"},t().Children.map(r,e=>t().isValidElement(e)?t().cloneElement(e,{onValueChange:a,setOpen:l}):e)):null},F=({value:e,children:r,onValueChange:n,setOpen:l})=>t().createElement("div",{className:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",onClick:()=>{n?.(e),l?.(!1)}},r),I=({columns:n,data:l,enableHyperlinks:I=!1,onView:A,onEdit:O,onDelete:G,onQuickAction:R,onRefresh:V,onDownload:P})=>{let q=[{key:"actions",label:"",sortable:!1,filterable:!1,fixed:!0},{key:"id",label:"ID",sortable:!0,filterable:!0,type:"text",fixed:!0},...n],[H,X]=(0,e.useState)(q),[Y,J]=(0,e.useState)(null),[K,Q]=(0,e.useState)(null),[U,Z]=(0,e.useState)({}),[ee,et]=(0,e.useState)(1),[er,en]=(0,e.useState)(20),[el,ea]=(0,e.useState)(new Set(q.map(e=>e.key))),[eo,ec]=(0,e.useState)({}),[ei,es]=(0,e.useState)(null),[em,ed]=(0,e.useState)(0),[eu,ef]=(0,e.useState)(0),eg=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"};(0,e.useEffect)(()=>{let e=e=>{if(ei){let t=Math.max(80,eu+(e.clientX-em));ec(e=>({...e,[ei]:t}))}},t=()=>{es(null)};return ei&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[ei,em,eu]);let ep=[...l.filter(e=>Object.entries(U).every(([t,r])=>String(e[t]||"").toLowerCase().includes(r.toLowerCase())))].sort((e,t)=>{if(!Y)return 0;let r=e[Y.key],n=t[Y.key],l=H.find(e=>e.key===Y.key);if(l?.type==="number"||l?.type==="currency"){let e="number"==typeof r?r:Number.parseFloat(String(r).replace(/,/g,""))||0,t="number"==typeof n?n:Number.parseFloat(String(n).replace(/,/g,""))||0;return"asc"===Y.direction?e-t:t-e}if(l?.type==="date"){let e=new Date(r),t=new Date(n);return"asc"===Y.direction?e.getTime()-t.getTime():t.getTime()-e.getTime()}let a=String(r).toLowerCase(),o=String(n).toLowerCase();return a<o?"asc"===Y.direction?-1:1:a>o?"asc"===Y.direction?1:-1:0}),ey=Math.ceil(ep.length/er),eE=(ee-1)*er,eb=eE+er,ex=ep.slice(eE,eb),ev=H.filter(e=>el.has(e.key)),eh={};H.forEach(e=>{if("currency"===e.type){let t=ep.reduce((t,r)=>{let n=r[e.key];return t+("number"==typeof n?n:Number.parseFloat(String(n).replace(/,/g,""))||0)},0);eh[e.key]=t}});let ek=e=>{ea(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},ew=Object.keys(U).length;return t().createElement("div",{className:"flex h-screen flex-col bg-background"},t().createElement("div",{className:"flex items-center gap-2 border-b border-border bg-card px-4 py-3"},t().createElement("div",{className:"flex items-center gap-2 ml-auto"},t().createElement(B,null,t().createElement(W,null,t().createElement(v,{variant:"ghost",size:"icon",onClick:V},t().createElement(d,null))),t().createElement(L,null,"Actualizar")),t().createElement(B,null,t().createElement(W,null,t().createElement(v,{variant:"ghost",size:"icon",onClick:P},t().createElement(u,null))),t().createElement(L,null,"Descargar Excel")),t().createElement(k,null,t().createElement(w,null,t().createElement(v,{variant:"ghost",size:"icon"},t().createElement(g,null))),t().createElement(N,{align:"end"},t().createElement(D,null,"Columnas visibles"),t().createElement(z,null),H.filter(e=>"actions"!==e.key).map(e=>t().createElement(S,{key:e.key,checked:el.has(e.key),onCheckedChange:()=>ek(e.key)},e.label)))))),t().createElement("div",{className:"flex-1 overflow-auto"},t().createElement("table",{className:"w-full border-collapse",style:{minWidth:"max-content"}},t().createElement("thead",{className:"sticky top-0 z-20 bg-[#1a2332] dark:bg-[#0f1a28]"},t().createElement("tr",null,ev.map(e=>t().createElement("th",{key:e.key,draggable:!e.fixed,onDragStart:t=>{Q(e.key),t.dataTransfer.effectAllowed="move"},onDragOver:eg,onDrop:t=>((e,t)=>{if(e.preventDefault(),!K||K===t)return;let r=[...H],n=r.findIndex(e=>e.key===K),l=r.findIndex(e=>e.key===t),[a]=r.splice(n,1);r.splice(l,0,a),X(r),Q(null)})(t,e.key),className:r("group relative border-b-2 border-border px-3 py-1.5 text-left text-xs font-medium uppercase tracking-wider text-gray-300 dark:text-gray-400",e.fixed&&"sticky z-30 shadow-[2px_0_4px_rgba(0,0,0,0.05)]","actions"===e.key&&"left-0 bg-[#1a2332] dark:bg-[#0f1a28]","id"===e.key&&"left-[80px] border-r-2 bg-[#1a2332] dark:bg-[#0f1a28]",K===e.key&&"opacity-50"),style:{width:eo[e.key]||("actions"===e.key?80:"auto"),minWidth:(e.key,80)}},t().createElement("div",{className:"flex items-center justify-between gap-2"},t().createElement("span",{className:"flex-1"},e.label),t().createElement("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},e.sortable&&t().createElement("button",{onClick:()=>{var t;let r;return t=e.key,r="asc",void(Y&&Y.key===t&&"asc"===Y.direction&&(r="desc"),J({key:t,direction:r}))},className:"rounded p-0.5 hover:bg-accent/50"},Y?.key===e.key?"asc"===Y.direction?t().createElement(o,null):t().createElement(c,null):t().createElement(o,null)),e.filterable&&t().createElement(k,null,t().createElement(w,null,t().createElement("button",{className:"rounded p-0.5 hover:bg-accent/50"},t().createElement(i,null))),t().createElement(N,{align:"start"},t().createElement("div",{className:"p-2"},t().createElement(M,{placeholder:`Filtrar ${e.label}...`,value:U[e.key]||"",onChange:t=>{var r,n;return r=e.key,n=t.target.value,void(Z(e=>({...e,[r]:n})),et(1))},className:"h-8"}),U[e.key]&&t().createElement(v,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e.key,void Z(e=>{let r={...e};return delete r[t],r})},className:"mt-2 w-full"},"Limpiar filtro")))),"actions"!==e.key&&t().createElement("button",{onClick:()=>ek(e.key),className:"rounded p-0.5 hover:bg-accent/50"},t().createElement(p,null)))),"actions"!==e.key&&t().createElement("div",{className:"absolute right-0 top-0 h-full w-1 cursor-col-resize hover:bg-primary/50",onMouseDown:t=>{var r;return r=e.key,void(t.preventDefault(),es(r),ed(t.clientX),ef(eo[r]||150))}}))))),t().createElement("tbody",null,ex.map((e,n)=>{let l=e.date&&a(new Date(e.date),new Date);return t().createElement("tr",{key:n,className:r("border-b border-border transition-colors hover:bg-muted/50",n%2==0?"bg-card":"bg-muted/20")},ev.map(o=>t().createElement("td",{key:o.key,className:r("px-3 py-1.5 text-sm",o.fixed&&"sticky z-10","actions"===o.key&&"left-0","id"===o.key&&"left-[80px] border-r-2",o.fixed&&(n%2==0?"bg-card":"bg-neutral-100 dark:bg-neutral-800"),"currency"===o.type&&"text-right tabular-nums","date"===o.type&&l&&"bg-red-50/50 dark:bg-red-950/20"),style:{width:eo[o.key]||("actions"===o.key?80:"auto")}},"actions"===o.key?t().createElement("div",{className:"flex items-center gap-1"},t().createElement(v,{variant:"ghost",size:"icon",onClick:()=>R&&R(e),className:"h-6 w-6"},t().createElement(m,null)),t().createElement(k,null,t().createElement(w,null,t().createElement(v,{variant:"ghost",size:"icon",className:"h-6 w-6"},t().createElement(s,null))),t().createElement(N,{align:"end"},t().createElement(C,{onClick:()=>A&&A(e)},"Ver"),t().createElement(C,{onClick:()=>O&&O(e)},"Editar"),t().createElement(z,null),t().createElement(C,{onClick:()=>G&&G(e),className:"text-destructive"},"Eliminar")))):"id"===o.key?t().createElement("div",{className:"flex items-center gap-2"},I?t().createElement("a",{href:"#",onClick:t=>{t.preventDefault(),A&&A(e)},className:"flex-1 text-left font-bold hover:text-blue-700 hover:underline dark:text-blue-400 dark:hover:text-blue-300 text-blue-900"},e[o.key]):t().createElement("span",{className:"flex-1"},e[o.key])):((e,n)=>{if(null==e)return"-";switch(n){case"date":try{let n,l,o,c,i,s="string"==typeof e?new Date(e):e,m=a(s,new Date);return t().createElement("div",{className:r("flex items-center gap-1.5",m&&"text-red-600 dark:text-red-400")},m&&t().createElement(f,null),(n=String(s.getDate()).padStart(2,"0"),l=s.toLocaleString("es-ES",{month:"short"}),o=s.getFullYear(),c=String(s.getHours()).padStart(2,"0"),i=String(s.getMinutes()).padStart(2,"0"),`${n} ${l} ${o} ${c}:${i}`))}catch{return String(e)}case"currency":return new Intl.NumberFormat("es-ES").format(e);case"status":return t().createElement(h,{className:r("text-xs opacity-100 shadow-md backdrop-blur-sm","Active"===e&&"border-green-200/50 bg-green-50/70 text-green-700 dark:border-green-800/50 dark:bg-green-950/70 dark:text-green-300","Pending"===e&&"border-yellow-200/50 bg-yellow-50/70 text-yellow-700 dark:border-yellow-800/50 dark:bg-yellow-950/70 dark:text-yellow-300","Inactive"===e&&"border-gray-200/50 bg-gray-50/70 text-gray-700 dark:border-gray-700/50 dark:bg-gray-900/70 dark:text-gray-300")},e);default:return String(e)}})(e[o.key],o.type))))})),t().createElement("tfoot",{className:"sticky bottom-0 z-20 bg-card shadow-[0_-2px_4px_rgba(0,0,0,0.05)]"},t().createElement("tr",{className:"border-t-2 border-border"},ev.map((e,n)=>t().createElement("td",{key:e.key,className:r("px-3 py-1.5 text-sm font-semibold",e.fixed&&"sticky z-30 bg-card shadow-[2px_0_4px_rgba(0,0,0,0.05)]","actions"===e.key&&"left-0","id"===e.key&&"left-[80px] border-r-2","currency"===e.type&&"text-right tabular-nums"),style:{width:eo[e.key]||("actions"===e.key?80:"auto")}},1===n?"Totales":"currency"===e.type?new Intl.NumberFormat("es-ES").format(eh[e.key]||0):"")))))),t().createElement("div",{className:"flex flex-col gap-3 border-t border-border bg-card px-4 py-3 sm:flex-row sm:items-center sm:justify-between"},t().createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-4"},t().createElement("div",{className:"flex items-center gap-2"},t().createElement("span",{className:"text-sm text-muted-foreground"},"Filas por p\xe1gina:"),t().createElement(j,{value:String(er),onValueChange:e=>en(Number(e))},t().createElement(_,{className:"h-8 w-[100px]"},t().createElement(T,null)),t().createElement($,null,[5,10,15,20,50,100,200].map(e=>t().createElement(F,{key:e,value:String(e)},e))))),t().createElement("div",{className:"text-sm text-muted-foreground"},"Mostrando ",eE+1," a ",Math.min(eb,ep.length)," de ",ep.length," registros",ew>0&&` (${ew} filtro${ew>1?"s":""} activo${ew>1?"s":""})`)),t().createElement("div",{className:"flex items-center gap-2"},t().createElement(v,{variant:"outline",size:"icon",onClick:()=>et(1),disabled:1===ee,className:"h-8 w-8"},t().createElement(b,null)),t().createElement(v,{variant:"outline",size:"icon",onClick:()=>et(e=>Math.max(1,e-1)),disabled:1===ee,className:"h-8 w-8"},t().createElement(y,null)),t().createElement("span",{className:"text-sm"},"P\xe1gina ",ee," de ",ey),t().createElement(v,{variant:"outline",size:"icon",onClick:()=>et(e=>Math.min(ey,e+1)),disabled:ee===ey,className:"h-8 w-8"},t().createElement(E,null)),t().createElement(v,{variant:"outline",size:"icon",onClick:()=>et(ey),disabled:ee===ey,className:"h-8 w-8"},t().createElement(x,null)))))};I.displayName="EnterpriseDataGrid";let A=I})(),l=l.default})());
//# sourceMappingURL=enterprise-data-grid.js.map